!function(){"use strict";angular.module("red",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router"])}(),function(){"use strict";function e(e,t,n,o,r,i){var c="https://red-wdp-api.herokuapp.com/api/mars/aliens",a="https://red-wdp-api.herokuapp.com/api/mars/encounters";e.encounter={colonist_id:n.getObject("session_colonist").id,date:i("date")(Date.now(),"yyyy-MM-dd")},t({method:"GET",url:c}).then(function(t){e.aliens=t.data.aliens},function(e){}),e.report=function(n){n.preventDefault(),t({method:"POST",url:a,data:{encounter:e.encounter}}).then(function(e){o.go("encounters"),console.log(e)},function(e){console.log(e)})}}e.$inject=["$scope","$http","$cookies","$state","$rootScope","$filter"],angular.module("red").controller("ReportCtrl",e)}(),function(){"use strict";function e(e,t){e.toCheckinPage=function(){t.go("check-in")}}e.$inject=["$scope","$state"],angular.module("red").controller("MainCtrl",e)}(),function(){"use strict";function e(e,t,n){var o="https://red-wdp-api.herokuapp.com/api/mars/encounters";t({method:"GET",url:o}).then(function(t){e.toReportPage=function(){n.go("report")},e.encounters=t.data.encounters},function(e){})}e.$inject=["$scope","$http","$state"],angular.module("red").controller("EncountersCtrl",e)}(),function(){"use strict";function e(e,t,n,o,r){var i="https://red-wdp-api.herokuapp.com/api/mars/jobs",c="https://red-wdp-api.herokuapp.com/api/mars/colonists";e.colonist={},e.validate=!1,t({method:"GET",url:i}).then(function(t){e.jobs=t.data.jobs},function(e){}),e.login=function(r){r.preventDefault(),e.checkinForm.$invalid?e.validate=!0:t({method:"POST",url:c,data:{colonist:e.colonist}}).then(function(e){n.putObject("session_colonist",e.data.colonist),o.go("encounters")})}}e.$inject=["$scope","$http","$cookies","$state","$rootScope"],angular.module("red").controller("CheckinCtrl",e)}(),function(){"use strict";function e(e,t,n,o){t.$state=n,e.debug("Run block end!"),t.$on("stateChangeStart",function(e,n){t.stateName=n.name,t.user=o.getObject("session_colonist")})}e.$inject=["$log","$rootScope","$state","$cookies"],angular.module("red").run(e)}(),function(){"use strict";function e(e,t,n){n.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!1}),e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"}).state("check-in",{url:"/check-in",templateUrl:"app/check-in/check-in.html",controller:"CheckinCtrl"}).state("encounters",{url:"/encounters",templateUrl:"app/encounters/encounters.html",controller:"EncountersCtrl"}).state("report",{url:"/report",templateUrl:"app/report/report.html",controller:"ReportCtrl"}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("red").config(e)}(),function(){"use strict";angular.module("red").constant("APP_NAME","RED Angular seed application")}(),function(){"use strict";function e(e){e.debugEnabled(!0)}e.$inject=["$logProvider"],angular.module("red").config(e)}(),angular.module("red").run(["$templateCache",function(e){e.put("app/check-in/check-in.html",'<div class="check-in"><h1>Register</h1><form class="checkin-form" name="checkinForm" ng-class="{\'invalid\': validate}"><input type="text" placeholder="Name" ng-model="colonist.name" required=""> <input type="number" placeholder="Age" ng-model="colonist.age" required=""><select name="jobs" class="custom-select" id="jobs" ng-model="colonist.job_id" required=""><option value="">Select a job</option><option value="{{ job.id }}" ng-repeat="job in jobs">{{job.name}}</option></select></form><button class="checkin-button" ng-click="login($event)">Check in</button></div>'),e.put("app/encounters/encounters.html",'<div class="encounters"><h1>Recent Encounters</h1><h4>See an Alien? Report it!</h4><div><ul class="list-of-encounters"><li ng-repeat="encounter in encounters">{{ encounter.date }} - {{ encounter.atype }}<br>{{ encounter.action }}</li></ul><button class="report-button" ng-click="toReportPage()">Report Encounter</button></div></div>'),e.put("app/main/main.html",'<div class="welcome"><h1>Mars Colony 1</h1><button class="pulse" ng-click="toCheckinPage()"></button><h2>Tap circle to enter</h2></div>'),e.put("app/report/report.html",'<div class="report"><h1>Report Encounter</h1><h3>Safety on Mars is your responsibility</h3><div class="report-form" name="reportForm" ng-class="{\'invalid\' : validate}"><select name="aliens" id="aliens" ng-model="encounter.atype" required=""><option value="">Select alien type</option><option value="{{ alien.type }}" ng-repeat="alien in aliens">{{ alien.type }}</option></select><textarea placeholder="Action taken" ng-model="encounter.action" required=""></textarea></div><button class="submit-report" ng-click="report($event)">Submit Report</button></div>')}]);